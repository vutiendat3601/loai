<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anh Thá»©c Samples</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/fontawesome.min.css"
        integrity="sha512-R+xPS2VPCAFvLRy+I4PgbwkWjw1z5B5gNDYgJN5LfzV4gGNeRQyVrY7Uk59rX+c8tzz63j8DeZPLqmXvBxj8pA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <div class="container-fluid mt-5">
        <div class="row d-flex justify-content-center">
            <p style="font-size: 20px;">This is <b>Anh Thuc</b>'s samples</p>
        </div>
        <div class="row d-flex justify-content-center">
            <p style="font-size: 20px;">Total amount: <span id="totalAmount" class="text-danger"></span></p>
        </div>
        <div class="row d-flex justify-content-center">

        </div>
        <div class="row d-flex justify-content-center">
            <form class="form-inline">
                <div class="form-check-inline">
                    <label class="form-check-label" for="ongoing">
                        <input type="checkbox" class="form-check-input" id="ongoing" name="ongoing" value="ongoing"
                            checked onchange="loadData()">Ongoing
                    </label>
                </div>
                <div class="form-check-inline">
                    <label class="form-check-label" for="todo">
                        <input type="checkbox" class="form-check-input" id="todo" name="todo" value="todo" checked
                            onchange="loadData()">To do
                    </label>
                </div>
                <div class="form-check-inline">
                    <label class="form-check-label" for="done">
                        <input type="checkbox" class="form-check-input" id="done" name="done" value="done" checked
                            onchange="loadData()">Done
                    </label>
                </div>
            </form>
        </div>
        <div class="row d-flex justify-content-center mt-2">
            <form class="form-inline">
                <label class="ml-5 my-1 mr-2" for="inlineFormCustomSelectPref">Sort by: </label>
                <select class="custom-select" id="sortSelect" onchange="loadData()">
                    <option value="nameaz">Name A - Z</option>
                    <option value="lc2hc">Lowest cost - Highest cost</option>
                    <option value="hc2lc">Highest cost - lowest cost</option>
                    <option value="lqty2hqty">Lowest quantity - highest quantity</option>
                    <option value="hqty2lqty">Highest quantity - lowest quantity</option>
                </select>
            </form>
        </div>
    </div>
    <div id="page">

    </div>
    <!-- <div class="container mt-5 mb-5">
        <div class="row d-flex align-items-center justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="d-flex justify-content-between p-2 px-3">
                        <div class="d-flex flex-row align-items-center">
                            <div class="d-flex flex-column ml-2"> <span class="font-weight-bold">CoTam_001</span>
                            </div>
                        </div>
                    </div> <img src="image/CoTam_001.jpg" class="img-fluid">
                    <div class="p-1">
                        <p class="text-justify">Quantity: 200 pcs</p>
                        <p class="text-justify">Cost: 11,000 VND</p>
                        <p class="text-justify">Total amount: 2,200,000 VND</p>
                        <p class="text-justify ">Status: <span class="text-danger"> TO DO</span></p>
                        <hr>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-5 mb-5">
        <div class="row d-flex align-items-center justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="d-flex justify-content-between p-2 px-3">
                        <div class="d-flex flex-row align-items-center">
                            <div class="d-flex flex-column ml-2"> <span class="font-weight-bold">CoTam_001</span>
                            </div>
                        </div>
                    </div> <img src="image/CoTam_001.jpg" class="img-fluid">
                    <div class="p-1">
                        <p class="text-justify">Quantity: 200 pcs</p>
                        <p class="text-justify">Cost: 11,000 VND</p>
                        <p class="text-justify">Total amount: 2,200,000 VND</p>
                        <p class="text-justify ">Status: <span class="text-danger"> TO DO</span></p>
                        <hr>
                    </div>
                </div>
            </div>
        </div>
    </div> -->

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
        integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script>
        var sortType = "lc2hc"
        
        loadData()
        function loadData() {
            sortType = $("#sortSelect").val()
            console.log(sortType)
            $(function () {
                var page = $("#page").empty()
                var statusType = []
                var ongoing = $("#ongoing").is(":checked")
                var todo = $("#todo").is(":checked")
                var done = $("#done").is(":checked")
                if (ongoing) {
                    statusType.push("ONGOING")
                } if (todo) {
                    statusType.push("TO DO")
                } if (done) {
                    statusType.push("DONE")
                }

                console.log(statusType)

                // console.log(jQuery.inArray("DONE", statusType))

                $.getJSON("data/data1.json", function (data) {
                    data.sort((a, b) => {
                        if (sortType === "nameaz") {
                            return a.name - b.name
                        } else if (sortType === "lc2hc") {
                            return a.cost - b.cost
                        } else if (sortType === "hc2lc") {
                            return -(a.cost - b.cost)
                        } else if (sortType === "lqty2hqty") {
                            return a.quantity - b.quantity
                        } else if (sortType === "hqty2lqty") {
                            return -(a.quantity - b.quantity)
                        }
                    })
                    var totalAmount = 0
                    var len = Object.keys(data).length;
                    for (var i = 0; i < len; i++) {
                        var formatter = new Intl.NumberFormat('en-US')
                        var status = data[i].status
                        if (jQuery.inArray(status, statusType) > -1) {
                            var name = data[i].name
                            var image = `image/${data[i].image}`
                            var cost = data[i].cost
                            var quantity = data[i].quantity
                            var total = cost * quantity
                            var quantityUnit = data[i].quantityUnit

                            totalAmount += total;
                            console.log(totalAmount)

                            var statusColor = ""
                            if (status === "ONGOING") {
                                statusColor = "text-info"
                            } else if (status === "TO DO") {
                                statusColor = "text-danger"
                            } else if (status === "DOING") {
                                statusColor = "text-primary"
                            } else if (status === "DONE") {
                                statusColor = "text-success"
                            }
                            cost = formatter.format(cost)
                            total = formatter.format(total)
                            var content = `<div class="container mt-5 mb-5">
                            <div class="row d-flex align-items-center justify-content-center border-5">
                            <div class="col-md-6"><div class="card"><div class="d-flex justify-content-between p-2 px-3">
                            <div class="d-flex flex-row align-items-center">
                                <div class="d-flex flex-column ml-2"><span class="font-weight-bold">${name}</span></div></div></div>
                                <img src="${image}" class="img-fluid">
                                <div class="p-1">
                                    <p class="text-justify">Name: ${name}</p>
                                    <p class="text-justify">Quantity: ${quantity} ${quantityUnit}</p>
                                    <p class="text-justify">Cost: ${cost} VND</p>
                                    <p class="text-justify">Total: ${total} VND</p>
                                    <p class="text-justify ">Status: <span class="${statusColor}"> ${status}</span></p></div></div></div></div></div>`
                            page.append(content)
                        }
                    }
                    console.log(totalAmount)
                    $("#totalAmount").text(`${formatter.format(totalAmount)} VND`)
                })
            })
        }
    </script>
</body>

</html>